pipeline {
    agent any

    tools {
        // Make sure JDK is configured in Jenkins (Manage Jenkins â†’ Global Tool Configuration)
        jdk 'jdk17'   // or your configured JDK name (e.g. "Java-11" or "Java-21")
    }

    stages {
        stage('Checkout') {
            steps {
                // Clone public GitHub repository
                git branch: 'master',
                    url: 'https://github.com/ateeqhonyal321/-Demo'
            }
        }

        stage('Build') {
            steps {
                echo 'ğŸ§± Building Java source files...'
                sh 'javac *.java'
            }
        }

        stage('Test') {
            steps {
                echo 'ğŸ§ª Running Java tests or main class...'
                // Replace 'Hello' with your main class name
                sh 'java Hello'
            }
        }

        stage('Package') {
            steps {
                echo 'ğŸ“¦ Packaging compiled classes into a JAR...'
                sh 'jar -cvf myapp.jar *.class'
            }
        }

        stage('Deploy') {
            steps {
                echo 'ğŸš€ Deploying application (placeholder stage)...'
            }
        }
    }

    post {
        success {
            echo 'âœ… Build completed successfully!'
        }
        failure {
            echo 'âŒ Build failed â€” check logs for details.'
        }
    }
}
